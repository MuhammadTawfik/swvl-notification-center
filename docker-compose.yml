version: '3.3'
services:
  notification-cneter:
    build: .
    restart: on-failure
    depends_on:
      # - 'mongo'
      - 'rabbitmq'
  # mongo:
  #   image: 'mongo:4.2.0'
  #   container_name: 'mongo'
  #   ports:
  #     - '27100:27017'
  rabbitmq:
    image: 'rabbitmq:3-management'
    ports:
      - '5672:5672'
      - '15672:15672'
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:15672"]
      interval: 10s
      timeout: 3s
      retries: 3
